#!/usr/bin/env php
<?php

$root = __DIR__ . '/..';

require_once $root . '/vendor/autoload.php';

use Camspiers\DependencyInjection\SharedContainerFactory;
use Camspiers\StatisticalClassifier\DependencyInjection\StatisticalClassifierExtension;
use Camspiers\StatisticalClassifier\DependencyInjection\CommandCompilerPass;

SharedContainerFactory::addExtension(
    new StatisticalClassifierExtension()
);

SharedContainerFactory::addCompilerPass(
    new CommandCompilerPass()
);

$c = SharedContainerFactory::createContainer(
    array()
);

$c->loadFromExtension('statistical_classifier');

SharedContainerFactory::dumpContainer(
    $c,
    'StatisticalClassifierServiceContainer',
    $root . '/config/'
);

echo 'Container generated', PHP_EOL;
