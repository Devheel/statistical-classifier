#!/usr/bin/env php
<?php

chdir(dirname(__DIR__));

require_once 'src/bootstrap.php';

use Camspiers\StatisticalClassifier\Config\Config;

$container = new StatisticalClassifierServiceContainer;

if (!$container->has('console.application')) {
	unlink(Config::getConfigOption('container_dir') . '/StatisticalClassifierServiceContainer.php');
	echo 'There appears to be a problem with your container. The service \'console.application\' must exist.', PHP_EOL;
	echo 'The current container has been deleted, please make the required modifications and re-run the classifier', PHP_EOL;
	exit(1);
}

$container->get('console.application')->setContainer($container)->run();
